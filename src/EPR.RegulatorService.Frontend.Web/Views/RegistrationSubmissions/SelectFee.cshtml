@using EPR.RegulatorService.Frontend.Web.Extensions
@using EPR.RegulatorService.Frontend.Web.ViewModels.RegistrationSubmissions
@using EPR.RegulatorService.Frontend.Web.ViewModels.Shared.GovUK
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model SelectFeesViewModel

@{
	ViewData["Title"] = Localizer["ConfirmRegistrationRefusal.PageTitle"];
	var errorsViewModel = new ErrorsViewModel(ViewData.ModelState.ToErrorDictionary(), Localizer);
}

<div class="govuk-width-container">
	<div class="govuk-grid-row">
		<div class="govuk-grid-column-two-thirds">
			@if (!ViewData.ModelState.IsValid)
			{
				@await Html.PartialAsync("Partials/Govuk/_ErrorSummary", errorsViewModel)
			}
			<h1 class="govuk-heading-xl" style="margin-bottom: 3%;">Which fees are you waiving?</h1>

			@using (Html.BeginRouteForm("SelectFee", new { submissionId = Model.SubmissionId }, FormMethod.Post))
			{

				@if (Model.IsComplianceSchemeSelected)
				{
					<h3 class="govuk-heading-s">
						<p class="govuk-body" style="padding: 7px 0px; margin: 0px;">Select all that apply</p>
					</h3>

					@if (Model.ApplicationFeeSectionEnable)
					{
						<div class="govuk-form-group">
							<fieldset class="govuk-fieldset" aria-describedby="contact-hint">
								<legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
									<h2 class="govuk-heading-m">
										Application fee
									</h2>
								</legend>
								<div class="govuk-checkboxes" data-module="govuk-checkboxes">
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="IsComplianceSchemeChecked" asp-for="IsComplianceSchemeChecked" name="IsComplianceSchemeChecked" type="checkbox" aria-controls="conditional-compliance-waiver" aria-expanded="true">
										<label class="govuk-label govuk-checkboxes__label" asp-for="IsComplianceSchemeChecked">
											Compliance scheme
										</label>
										<div id="nationality-item-hint" class="govuk-hint govuk-checkboxes__hint">
											£@Model.ApplicationFee
											<input type="hidden" name="ApplicationFee" value="@Model.ApplicationFee" />
										</div>
										<div class="govuk-checkboxes__conditional" id="conditional-compliance-waiver">
											<div class="govuk-form-group">
												<label class="govuk-label" for="WavedComplianceSchemeAmount">
													Enter the waiver amount
												</label>
												<div class="govuk-input__wrapper">
													<div class="govuk-input__prefix" aria-hidden="true">£</div>
													<input class="govuk-input govuk-input--width-5" id="WavedComplianceSchemeAmount" value="@Model.WavedComplianceSchemeAmount" aria-describedby="WavedComplianceSchemeAmount" name="WavedComplianceSchemeAmount" type="text" spellcheck="false">
												</div>
											</div>
										</div>
									</div>
								</div>
							</fieldset>
						</div>
					}
					<div class="govuk-form-group">
						<fieldset class="govuk-fieldset" aria-describedby="contact-hint">
							<legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
								<h2 class="govuk-heading-m">
									Scheme members
								</h2>
							</legend>
							@if (Model.SmalProducerSectionEnable)
							{
								<div class="govuk-checkboxes" data-module="govuk-checkboxes">
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="small_org_reg-1" name="ch-1" type="checkbox" value="" aria-controls="conditional-contact-1" aria-expanded="false">
										<label class="govuk-label govuk-checkboxes__label" for="small_org_reg-1">
											@Model.SmallProducerCount Small producers
										</label>
										<div id="nationality-item-hint" class="govuk-hint govuk-checkboxes__hint">
											£@Model.SmallProducerFee
										</div>
									</div>
									<div class="govuk-checkboxes__conditional govuk-checkboxes__conditional--hidden" id="conditional-contact-1">
										<div class="govuk-form-group">
											<label class="govuk-label" for="contact-by-email">
												Enter the waiver amount
											</label>
											<div class="govuk-input__wrapper">
												<div class="govuk-input__prefix" aria-hidden="true">£</div>
												<input class="govuk-input govuk-input--width-5" id="cost" name="cost" type="text" spellcheck="false">
											</div>
										</div>
									</div>
								</div>
							}

							@if (Model.LargeProducerSectionEnable)
							{
								<div class="govuk-checkboxes" data-module="govuk-checkboxes">
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="small_org_reg-2" name="ch-2" type="checkbox" value="" aria-controls="conditional-contact-2" aria-expanded="false">
										<label class="govuk-label govuk-checkboxes__label" for="small_org_reg-2">
											@Model.LargeProducerCount Large producers
										</label>
										<div id="nationality-item-hint" class="govuk-hint govuk-checkboxes__hint">
											£@Model.LargeProducerFee
										</div>
									</div>
									<div class="govuk-checkboxes__conditional govuk-checkboxes__conditional--hidden" id="conditional-contact-2">
										<div class="govuk-form-group">
											<label class="govuk-label" for="contact-by-email">
												Enter the waiver amount
											</label>
											<div class="govuk-input__wrapper">
												<div class="govuk-input__prefix" aria-hidden="true">£</div>
												<input class="govuk-input govuk-input--width-5" id="cost-1" name="cost-1" type="text" spellcheck="false">
											</div>
										</div>
									</div>
								</div>
							}

							@if (Model.OnlineMarketPlaceSectionEnable)
							{
								<div class="govuk-checkboxes" data-module="govuk-checkboxes">
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="small_org_reg-3" name="ch-3" type="checkbox" value="" aria-controls="conditional-contact-3" aria-expanded="false">
										<label class="govuk-label govuk-checkboxes__label" for="small_org_reg-3">
											@Model.OnlineMarketPlaceCount Online marketplaces
										</label>
										<div id="nationality-item-hint" class="govuk-hint govuk-checkboxes__hint">
											£@Model.OnlineMarketPlaceFee
										</div>
									</div>
									<div class="govuk-checkboxes__conditional govuk-checkboxes__conditional--hidden" id="conditional-contact-3">
										<div class="govuk-form-group">
											<label class="govuk-label" for="contact-by-email">
												Enter the waiver amount
											</label>
											<div class="govuk-input__wrapper">
												<div class="govuk-input__prefix" aria-hidden="true">£</div>
												<input class="govuk-input govuk-input--width-5" id="cost-2" name="cost-2" type="text" spellcheck="false">
											</div>
										</div>
									</div>
								</div>
							}

							@if (Model.SubsidiariesCompanySectionEnable)
							{
								<div class="govuk-checkboxes" data-module="govuk-checkboxes">
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="small_org_reg-4" name="ch-4" type="checkbox" value="" aria-controls="conditional-contact-4" aria-expanded="false">
										<label class="govuk-label govuk-checkboxes__label" for="small_org_reg-4">
											@Model.SubsidiariesCompanyCount Subsidiary Companies
										</label>
										<div id="nationality-item-hint" class="govuk-hint govuk-checkboxes__hint">
											£@Model.SubsidiariesCompanyFee
										</div>
									</div>
									<div class="govuk-checkboxes__conditional govuk-checkboxes__conditional--hidden" id="conditional-contact-4">
										<div class="govuk-form-group">
											<label class="govuk-label" for="contact-by-email">
												Enter the waiver amount
											</label>
											<div class="govuk-input__wrapper">
												<div class="govuk-input__prefix" aria-hidden="true">£</div>
												<input class="govuk-input govuk-input--width-5" id="cost-3" name="cost-3" type="text" spellcheck="false">
											</div>
										</div>
									</div>
								</div>
							}

							@if (Model.LateProducerSectionEnable)
							{
								<div class="govuk-checkboxes" data-module="govuk-checkboxes">
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="small_org_reg-5" name="ch-5" type="checkbox" value="" aria-controls="conditional-contact-5" aria-expanded="false">
										<label class="govuk-label govuk-checkboxes__label" for="small_org_reg-5">
											@Model.LateProducerCount Late producer fees
										</label>
										<div id="nationality-item-hint" class="govuk-hint govuk-checkboxes__hint">
											£@Model.LateProducerFee
										</div>
									</div>
									<div class="govuk-checkboxes__conditional govuk-checkboxes__conditional--hidden" id="conditional-contact-5">
										<div class="govuk-form-group">
											<label class="govuk-label" for="contact-by-email">
												Enter the waiver amount
											</label>
											<div class="govuk-input__wrapper">
												<div class="govuk-input__prefix" aria-hidden="true">£</div>
												<input class="govuk-input govuk-input--width-5" id="cost-4" name="cost-4" type="text" spellcheck="false">
											</div>
										</div>
									</div>
								</div>
							}

						</fieldset>
					</div>
					<button id="continue-button" role="button" class="govuk-button" type="submit" data-module="govuk-button">
						Continue
					</button>
				}

			}

			@if (Model.IsProducerSelected)
			{
				<div class="govuk-form-group">
					<fieldset class="govuk-fieldset" aria-describedby="contact-hint">
						<legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
							<h2 class="govuk-heading-m">
								Application fee
							</h2>
						</legend>
						<div class="govuk-checkboxes" data-module="govuk-checkboxes">
							<div class="govuk-checkboxes__item">
								<input class="govuk-checkboxes__input" id="small_org_reg" name="contact" type="checkbox" value="" aria-controls="conditional-contact" aria-expanded="true">
								<label class="govuk-label govuk-checkboxes__label" for="small_org_reg">
									Organisation registration fee
								</label>
								<div id="nationality-item-hint" class="govuk-hint govuk-checkboxes__hint">
									£@Model.ApplicationFee
								</div>
								<div class="govuk-checkboxes__conditional" id="conditional-contact">
									<div class="govuk-form-group">
										<label class="govuk-label" for="contact-by-email">
											Enter the waiver amount
										</label>
										<div class="govuk-input__wrapper">
											<div class="govuk-input__prefix" aria-hidden="true">£</div>
											<input class="govuk-input govuk-input--width-5" id="cost" name="cost" type="text" spellcheck="false">
										</div>
									</div>
								</div>
							</div>
						</div>
					</fieldset>
				</div>
			}

			@* <a href="./select-reason-cos.html" role="button" draggable="false" class="govuk-button" data-module="govuk-button">
				Continue
			</a> *@			
		</div>


	</div>
</div>


@* <div class="govuk-width-container">
	<main class="govuk-main-wrapper" id="main-content" role="main">
		<div class="govuk-grid-row">
			<div class="govuk-grid-column-full">
				<div class="govuk-form-group">
					<fieldset class="govuk-fieldset" aria-describedby="waste-hint">
						<legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
							<h1 class="govuk-fieldset__heading">
								@Localizer["WaveFees.WhichFees"]
							</h1>
						</legend>
						<div id="waste-hint" class="govuk-hint">
							Select all that apply
						</div>
						<fieldset class="govuk-fieldset" aria-describedby="waste-hint">
							<legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
								<h1 class="govuk-fieldset__heading">
									Application fee
								</h1>
							</legend>
							@if (Model.ApplicationFee > 0)
							{
								<div class="govuk-checkboxes" data-module="govuk-checkboxes">
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="waste" name="waste" type="checkbox" value="carcasses">
										<label class="govuk-label govuk-checkboxes__label" for="compliancescheme">
											Compliance scheme
										</label>
										<div class="govuk-hint govuk-checkboxes__hint">
											£@Model.ApplicationFee
										</div>
									</div>
								</div>
							}
						</fieldset>

						@if(Model.SchemeMembers)
						{
							<fieldset class="govuk-fieldset" aria-describedby="waste-hint">
								<legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
									<h1 class="govuk-fieldset__heading">
										Scheme members
									</h1>
								</legend>
								@if (Model.SmallProducerCount > 0)
								{
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="waste-2" name="waste" type="checkbox" value="mines">
										<label class="govuk-label govuk-checkboxes__label" for="waste-2">
											@Model.SmallProducerCount Small producers
										</label>
										<div class="govuk-hint govuk-checkboxes__hint">
											£@Model.SmallProducerFee
										</div>
									</div>
								}

								@if (Model.LargeProducerCount > 0)
								{
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="waste-3" name="waste" type="checkbox" value="farm">
										<label class="govuk-label govuk-checkboxes__label" for="waste-3">
											@Model.LargeProducerCount Large producers
										</label>
										<div class="govuk-hint govuk-checkboxes__hint">
											£@Model.LargeProducerFee
										</div>
									</div>
								}

								@if (Model.OnlineMarketPlaceCount > 0)
								{
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="waste-3" name="waste" type="checkbox" value="farm">
										<label class="govuk-label govuk-checkboxes__label" for="waste-3">
											@Model.OnlineMarketPlaceCount Online marketplaces
										</label>
										<div class="govuk-hint govuk-checkboxes__hint">
											£@Model.OnlineMarketPlaceFee
										</div>
									</div>
								}

								@if (Model.SubsidiariesCompanyCount > 0)
								{
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="waste-3" name="waste" type="checkbox" value="farm">
										<label class="govuk-label govuk-checkboxes__label" for="waste-3">
											@Model.SubsidiariesCompanyCount subsidary companpanies
										</label>
										<div class="govuk-hint govuk-checkboxes__hint">
											£@Model.SubsidiariesCompanyFee
										</div>
									</div>
								}

								@if (Model.LateProducerCount > 0)
								{
									<div class="govuk-checkboxes__item">
										<input class="govuk-checkboxes__input" id="waste-3" name="waste" type="checkbox" value="farm">
										<label class="govuk-label govuk-checkboxes__label" for="waste-3">
											@Model.LateProducerCount Late producer fees
										</label>
										<div class="govuk-hint govuk-checkboxes__hint">
											£@Model.LateProducerFee
										</div>
									</div>
								}

							</fieldset>

						}



					</fieldset>
				</div>

				@Html.ActionLink("Continue", "WaiverReason", new { }, new { @class = "govuk-button" })

			</div>
		</div>
	</main>
</div> *@
